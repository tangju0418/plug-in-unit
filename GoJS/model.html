<html>  
    <head>  
        <meta charset="utf-8">  
        <title>管道图</title> 
        <style>
        	#myDiagramDiv{
        		width:800px; 
        		height:600px; 
        		background-color: #DAE4E4;
        	}
        </style> 
    </head> 
	<body>  
		<div id="myDiagramDiv"></div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gojs/1.7.11/go-debug.js"></script>
		<script>
			var $ = go.GraphObject.make;
			var myDiagram =
			  $(go.Diagram, "myDiagramDiv",
			  	{
			  		initialContentAlignment: go.Spot.Center,
			  		"undoManager.isEnabled": true,
			  		layout: $(go.ForceDirectedLayout,
                    { 
                    	defaultSpringLength: 50,
                    	defaultElectricalCharge: 50 
                    }),
			  		"toolManager.mouseWheelBehavior":go.ToolManager.WheelZoom
			  	});
			myDiagram.nodeTemplate =
			$(go.Node, "Auto",
				{ locationSpot: go.Spot.Center },
				$(go.Shape,"RoundedRectangle",
		    	{	
		    		cursor: "pointer",
		    		fill:$(go.Brush,"Linear",
                  { 
                  	0.0:"Violet",0.5:'lightblue',1.0:"Lavender"
                  })
		    	},new go.Binding("fill", "color")),
			    $(go.TextBlock,
			      "Default Text", 
			      { 
			      	  text:"textAlign:'center'",
			      	  margin: 12, 
			      	  stroke: "black", 
			      	  font: "bold 16px sans-serif" ,
			      	  width:200,
				      wrap:go.TextBlock.WrapFit,
				      editable: true
				  },
				      new go.Binding("text")
				)

			);

			myDiagram.linkTemplate =
			  $(go.Link,
			    { routing: go.Link.AvoidsNodes, corner: 5 },
			    $(go.Shape, { strokeWidth: 3, stroke: "#555" }),
			    $(go.Shape,  {

			    	toArrow:'OpenTriangle',
			    	fill:null, 
			    	stroke: "#555",
			    	strokeWidth:3 }),
			    $(go.Panel, "Auto",
		          { _isLinkLabel: true },  // marks this Panel as being a draggable label
		          $(go.Shape, { fill: "#DAE4E4",strokeWidth:0 }),
		          $(go.TextBlock, "?", {
		           		margin: 5 ,
		           		editable: true
		       		},
		            new go.Binding("text", "color")),
		          // remember any modified segment properties in the link data object
		          new go.Binding("segmentIndex").makeTwoWay(),
		          new go.Binding("segmentFraction").makeTwoWay()
		        )
			); 
			  
			var model = $(go.TreeModel);
			myDiagram.model = new go.GraphLinksModel([
		        { key: 1, text: "one", color: "lightyellow" },
		        { key: 2, text: "two", color: "brown" },
		        { key: 3, text: "three", color: "green" },
		        { key: 4, text: "four", color: "slateblue" },
		        { key: 5, text: "five", color: "aquamarine" },
		        { key: 6, text: "six", color: "lightgreen" },
		        { key: 7, text: "seven" }
		    ], [
		        { from: 5, to: 6, color: "orange" },
		        { from: 1, to: 2, color: "red" },
		        { from: 1, to: 3, color: "blue" },
		        { from: 1, to: 4, color: "goldenrod" },
		        { from: 2, to: 5, color: "fuchsia" },
		        { from: 3, to: 5, color: "green" },
		        { from: 4, to: 5, color: "black" },
		        { from: 6, to: 7 }
		    ]);
	

		</script>
	</body>  
</html>  
